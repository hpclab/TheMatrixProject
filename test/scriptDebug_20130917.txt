HOSP (ScriptInputModule)
parameters
	scriptFilename = LoadHOSP.txt
	inputName = HOSP
	expectedSchema = IADhosp
end

LastYearHOSP (FilterModule)
inputs
	IADhosp = HOSP
parameters
	conditions = [{START_DATE >= 2011-01-01};{START_DATE <= 2011-12-31}]
	boolExpr = AND
end

sortedLastYearHOSP (SortModule)
inputs
	IADhosp = LastYearHOSP
parameters
	fieldNames = [ PATIENT_ID ]
end


AsortedLastYearHOSP (FilterModule)
inputs
	IADhosp = sortedLastYearHOSP
parameters
	conditions = [{PATIENT_ID = "BARABBA"}]
	filterType = discard
end

// GENERAL INDICATORS COMPLEX: generate auxiliary functions

// Generate TypeOfFullW in HOSP
ClsortedLastYearHOSPEnriched (ExtendDataModule)
inputs
	IADhosp = AsortedLastYearHOSP
parameters
  attributes = [ { TypeOfFullW: string = "ATC" } ]
end
/*
sortedLastYearHOSPEnriched (ApplyFunction)
inputs
	custom = ClsortedLastYearHOSPEnriched
parameters
	function = TypeOfFullWard(WARD_DISCHARGE)
	result   = TypeOfFullW
end
*/
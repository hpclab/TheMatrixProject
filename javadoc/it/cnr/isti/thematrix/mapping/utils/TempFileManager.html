<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_67) on Mon Sep 01 14:10:27 CEST 2014 -->
<title>TempFileManager</title>
<meta name="date" content="2014-09-01">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TempFileManager";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TempFileManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/RecordBean.html" title="class in it.cnr.isti.thematrix.mapping.utils"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/WardBean.html" title="class in it.cnr.isti.thematrix.mapping.utils"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?it/cnr/isti/thematrix/mapping/utils/TempFileManager.html" target="_top">Frames</a></li>
<li><a href="TempFileManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">it.cnr.isti.thematrix.mapping.utils</div>
<h2 title="Class TempFileManager" class="title">Class TempFileManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>it.cnr.isti.thematrix.mapping.utils.TempFileManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="strong">TempFileManager</span>
extends java.lang.Object</pre>
<div class="block">Singleton class to generate temporary file names and register them in a list so that they can be automatically removed at end
 of execution. As of now, clas supports<br>
 creating new names for temp files in iad directory <br>
 adding names of independently created files to the list<br>
 retrieving the list of active temp files<br>
 deleting all registered temporary files.<br>
 Little error checking is done in this class. 
 A cleaner way could be using File.deleteOnExit(), but we might need to reclaim the disc space before the JVM closes.
 
 TODO Should implement identities to delete only a sublist of the files.
 
 singleton code from http://stackoverflow.com/questions/70689/what-is-an-efficient-way-to-implement-a-singleton-pattern-in-java
 
 FIXME singleton code here is redundant; move to a class with a static initializer block, static methods and no constructor</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>massimo</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.util.ArrayList&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/TempFileManager.html#filenameList">filenameList</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static <a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/TempFileManager.html" title="class in it.cnr.isti.thematrix.mapping.utils">TempFileManager</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/TempFileManager.html#INSTANCE">INSTANCE</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private </code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/TempFileManager.html#TempFileManager()">TempFileManager</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/TempFileManager.html#addTempFileName(java.lang.String)">addTempFileName</a></strong>(java.lang.String&nbsp;fullpathname)</code>
<div class="block">add a file name to the list of temporaries
 
 FIXME should distinguish between relative paths and absolute ones</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/TempFileManager.html#deleteAllFiles()">deleteAllFiles</a></strong>()</code>
<div class="block">Delete all temporary files registered so far and forget them.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/TempFileManager.html#deleteTempFileQuietly(java.lang.String)">deleteTempFileQuietly</a></strong>(java.lang.String&nbsp;fullname)</code>
<div class="block">Remove a temp file from the list, actually deleting it if it exists.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/TempFileManager.html" title="class in it.cnr.isti.thematrix.mapping.utils">TempFileManager</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/TempFileManager.html#getInstance()">getInstance</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.io.File</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/TempFileManager.html#getPathForFile(java.lang.String)">getPathForFile</a></strong>(java.lang.String&nbsp;filename)</code>
<div class="block">Return the path of a file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.util.ArrayList&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/TempFileManager.html#getTempFilenames()">getTempFilenames</a></strong>()</code>
<div class="block">get the list of temporary files</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/TempFileManager.html#isTemporary(java.lang.String)">isTemporary</a></strong>(java.lang.String&nbsp;fullName)</code>
<div class="block">check if a filename (full path name) is a temporary</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/TempFileManager.html#isTemporary(java.lang.String,%20java.lang.String)">isTemporary</a></strong>(java.lang.String&nbsp;path,
           java.lang.String&nbsp;name)</code>
<div class="block">Check if (path,name) is a temporary file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.io.File</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/TempFileManager.html#newTempFile()">newTempFile</a></strong>()</code>
<div class="block">get a File pointing to a fresh new temporary file in the iad directory</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="INSTANCE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INSTANCE</h4>
<pre>private static final&nbsp;<a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/TempFileManager.html" title="class in it.cnr.isti.thematrix.mapping.utils">TempFileManager</a> INSTANCE</pre>
</li>
</ul>
<a name="filenameList">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>filenameList</h4>
<pre>private static&nbsp;java.util.ArrayList&lt;java.lang.String&gt; filenameList</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TempFileManager()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TempFileManager</h4>
<pre>private&nbsp;TempFileManager()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstance()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/TempFileManager.html" title="class in it.cnr.isti.thematrix.mapping.utils">TempFileManager</a>&nbsp;getInstance()</pre>
</li>
</ul>
<a name="newTempFile()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newTempFile</h4>
<pre>public static&nbsp;java.io.File&nbsp;newTempFile()</pre>
<div class="block">get a File pointing to a fresh new temporary file in the iad directory</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the new temporary file</dd></dl>
</li>
</ul>
<a name="addTempFileName(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addTempFileName</h4>
<pre>public static&nbsp;void&nbsp;addTempFileName(java.lang.String&nbsp;fullpathname)</pre>
<div class="block">add a file name to the list of temporaries
 
 FIXME should distinguish between relative paths and absolute ones</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fullpathname</code> - </dd></dl>
</li>
</ul>
<a name="getTempFilenames()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTempFilenames</h4>
<pre>public static&nbsp;java.util.ArrayList&lt;java.lang.String&gt;&nbsp;getTempFilenames()</pre>
<div class="block">get the list of temporary files</div>
</li>
</ul>
<a name="isTemporary(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isTemporary</h4>
<pre>public static&nbsp;boolean&nbsp;isTemporary(java.lang.String&nbsp;fullName)</pre>
<div class="block">check if a filename (full path name) is a temporary</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fullName</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the parameter is in the list of temporary files</dd></dl>
</li>
</ul>
<a name="isTemporary(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isTemporary</h4>
<pre>public static&nbsp;boolean&nbsp;isTemporary(java.lang.String&nbsp;path,
                  java.lang.String&nbsp;name)</pre>
<div class="block">Check if (path,name) is a temporary file.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - </dd><dd><code>name</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the parameters match an element in the list of temporary files</dd></dl>
</li>
</ul>
<a name="deleteAllFiles()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteAllFiles</h4>
<pre>public static&nbsp;void&nbsp;deleteAllFiles()
                           throws java.lang.SecurityException,
                                  java.io.FileNotFoundException</pre>
<div class="block">Delete all temporary files registered so far and forget them. In case an error is returned, processing is
 interrupted; the file triggering the error is the first of the list; it should be safe to call the method can be
 called again.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.SecurityException</code></dd>
<dd><code>java.io.FileNotFoundException</code></dd></dl>
</li>
</ul>
<a name="deleteTempFileQuietly(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteTempFileQuietly</h4>
<pre>public static&nbsp;boolean&nbsp;deleteTempFileQuietly(java.lang.String&nbsp;fullname)</pre>
<div class="block">Remove a temp file from the list, actually deleting it if it exists. Return value is true if the file existed,
 false if it was not found. If the file was NOT in the temp file list, raise an error.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fullname</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the file was found and removed, false if it was not found on disk.</dd></dl>
</li>
</ul>
<a name="getPathForFile(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getPathForFile</h4>
<pre>public static&nbsp;java.io.File&nbsp;getPathForFile(java.lang.String&nbsp;filename)</pre>
<div class="block">Return the path of a file. 
 First checks presence in IAD directory, if not return results as path for the file.
 It expects a file in the format of filename.extension.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>filename</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>the path of a file</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TempFileManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/RecordBean.html" title="class in it.cnr.isti.thematrix.mapping.utils"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/WardBean.html" title="class in it.cnr.isti.thematrix.mapping.utils"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?it/cnr/isti/thematrix/mapping/utils/TempFileManager.html" target="_top">Frames</a></li>
<li><a href="TempFileManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>

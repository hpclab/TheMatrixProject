<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_67) on Mon Sep 01 14:10:27 CEST 2014 -->
<title>ValueRemapper</title>
<meta name="date" content="2014-09-01">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ValueRemapper";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ValueRemapper.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../it/cnr/isti/thematrix/mapping/creator/QueryCreator.html" title="class in it.cnr.isti.thematrix.mapping.creator"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?it/cnr/isti/thematrix/mapping/creator/ValueRemapper.html" target="_top">Frames</a></li>
<li><a href="ValueRemapper.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">it.cnr.isti.thematrix.mapping.creator</div>
<h2 title="Class ValueRemapper" class="title">Class ValueRemapper</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>it.cnr.isti.thematrix.mapping.creator.ValueRemapper</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">ValueRemapper</span>
extends java.lang.Object</pre>
<div class="block">THis class <i>should</i> translate the header names and values retrieved from DB (LIAD) into values suitable for the
 CSV file cache (IAD). It is expected to use all the extensions of <code>AbstractMapping</code></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>iacopo, giacomo, massimo</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/creator/ValueRemapper.html#ValueRemapper()">ValueRemapper</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/creator/ValueRemapper.html#applyMappingToCsvHeader(it.cnr.isti.thematrix.mapping.utils.CSVFile,%20java.lang.String)">applyMappingToCsvHeader</a></strong>(<a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/CSVFile.html" title="class in it.cnr.isti.thematrix.mapping.utils">CSVFile</a>&nbsp;csv,
                       java.lang.String&nbsp;datasetName)</code>
<div class="block">Performs the mapping of the header section, i.e.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/creator/ValueRemapper.html#applyMappingToDataValues(it.cnr.isti.thematrix.mapping.utils.CSVFile,%20java.lang.String)">applyMappingToDataValues</a></strong>(<a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/CSVFile.html" title="class in it.cnr.isti.thematrix.mapping.utils">CSVFile</a>&nbsp;iadCsv,
                        java.lang.String&nbsp;datasetName)</code>
<div class="block">Performs the mapping of the values in the body section.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.util.Collection&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/creator/ValueRemapper.html#applyRecoding(it.cnr.isti.thematrix.configuration.mapping.SimpleMapping,%20java.util.Collection)">applyRecoding</a></strong>(<a href="../../../../../../it/cnr/isti/thematrix/configuration/mapping/SimpleMapping.html" title="class in it.cnr.isti.thematrix.configuration.mapping">SimpleMapping</a>&nbsp;mapping,
             java.util.Collection&lt;java.lang.String&gt;&nbsp;columnValues)</code>
<div class="block">Performs the mapping of a set of values to IAD values by using a recoding table.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.util.Collection&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/creator/ValueRemapper.html#applyRecoding(it.cnr.isti.thematrix.configuration.mapping.VoidMapping,%20java.util.Collection)">applyRecoding</a></strong>(<a href="../../../../../../it/cnr/isti/thematrix/configuration/mapping/VoidMapping.html" title="class in it.cnr.isti.thematrix.configuration.mapping">VoidMapping</a>&nbsp;mapping,
             java.util.Collection&lt;java.lang.String&gt;&nbsp;columnValues)</code>
<div class="block">Performs the mapping of a column to IAD values when the column does not have a corresponding LIAD one
 
 FIXME_DESIGN if the only use is to translate the in-memory buffer, make it void and modify the parameter.<br></div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ValueRemapper()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ValueRemapper</h4>
<pre>public&nbsp;ValueRemapper()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="applyMappingToDataValues(it.cnr.isti.thematrix.mapping.utils.CSVFile, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>applyMappingToDataValues</h4>
<pre>public static&nbsp;void&nbsp;applyMappingToDataValues(<a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/CSVFile.html" title="class in it.cnr.isti.thematrix.mapping.utils">CSVFile</a>&nbsp;iadCsv,
                            java.lang.String&nbsp;datasetName)
                                     throws javax.xml.bind.JAXBException</pre>
<div class="block">Performs the mapping of the values in the body section. <br>
 Access the given iadCsv as if it was a given IAD dataset; select the mapping definitions for that IAD dataset,
 extract the attributes that need value mapping, for each one call the proper recoding method on the column
 buffer. <br>
 Currently supports VoidMapping and SimpleMapping (with and without recoding table). <br>
 Note that the method needs access to both the unmapped header and the mapped one, even after the creation of the
 header (see applyMappingToCsvHeader() ). In order to save the CSV with the correctly mapped header, it is
 necessary to hack the CSVFile class.
 
 TODO implement all mappings (beside Simple) and return warnings and exceptions for mapping failures.<br>
 FIXME this needs reverse engineering and refactoring: the remapping cannot be controlled from the LIAD side!</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>datasetName</code> - The name of the dataset to be mapped.</dd><dd><code>iadCsv</code> - The <code>CSVFile</code> used to store the data. It assumes the CSV file is already loaded.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>javax.xml.bind.JAXBException</code></dd></dl>
</li>
</ul>
<a name="applyMappingToCsvHeader(it.cnr.isti.thematrix.mapping.utils.CSVFile, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>applyMappingToCsvHeader</h4>
<pre>public static&nbsp;void&nbsp;applyMappingToCsvHeader(<a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/CSVFile.html" title="class in it.cnr.isti.thematrix.mapping.utils">CSVFile</a>&nbsp;csv,
                           java.lang.String&nbsp;datasetName)
                                    throws javax.xml.bind.JAXBException,
                                           <a href="../../../../../../it/cnr/isti/thematrix/exception/SyntaxErrorInMappingException.html" title="class in it.cnr.isti.thematrix.exception">SyntaxErrorInMappingException</a></pre>
<div class="block">Performs the mapping of the header section, i.e. it rewrites the CSV header with the definition of all the
 IAD data fields provided by the specific mapping and corresponding to the (LIAD) names found in the csv header. 
 Uses and modifies information from the CSVFile object. The dataset name is looked up for in the mapping singleton.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>datasetName</code> - The name of the dataset to be mapped.</dd><dd><code>csv</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>javax.xml.bind.JAXBException</code> - , BadFormattedMappingException</dd>
<dd><code><a href="../../../../../../it/cnr/isti/thematrix/exception/SyntaxErrorInMappingException.html" title="class in it.cnr.isti.thematrix.exception">SyntaxErrorInMappingException</a></code></dd></dl>
</li>
</ul>
<a name="applyRecoding(it.cnr.isti.thematrix.configuration.mapping.SimpleMapping, java.util.Collection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>applyRecoding</h4>
<pre>private static&nbsp;java.util.Collection&lt;java.lang.String&gt;&nbsp;applyRecoding(<a href="../../../../../../it/cnr/isti/thematrix/configuration/mapping/SimpleMapping.html" title="class in it.cnr.isti.thematrix.configuration.mapping">SimpleMapping</a>&nbsp;mapping,
                                                   java.util.Collection&lt;java.lang.String&gt;&nbsp;columnValues)</pre>
<div class="block">Performs the mapping of a set of values to IAD values by using a recoding table. The recoding table has been
 implemented, but better error checking should be done for values not in the table. Current semantics is that
 unmapped values silently become null (e.g. missing). No recoding is performed if no HashMap is available (identity).
 
 FIXME_DESIGN if the only use is to translate the in-memory buffer, make it void and modify the parameter.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>mapping</code> - the mapping object with the recoding table to use</dd><dd><code>columnValues</code> - the values</dd>
<dt><span class="strong">Returns:</span></dt><dd>a <code>Collection<String></code></dd></dl>
</li>
</ul>
<a name="applyRecoding(it.cnr.isti.thematrix.configuration.mapping.VoidMapping, java.util.Collection)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>applyRecoding</h4>
<pre>private static&nbsp;java.util.Collection&lt;java.lang.String&gt;&nbsp;applyRecoding(<a href="../../../../../../it/cnr/isti/thematrix/configuration/mapping/VoidMapping.html" title="class in it.cnr.isti.thematrix.configuration.mapping">VoidMapping</a>&nbsp;mapping,
                                                   java.util.Collection&lt;java.lang.String&gt;&nbsp;columnValues)</pre>
<div class="block">Performs the mapping of a column to IAD values when the column does not have a corresponding LIAD one
 
 FIXME_DESIGN if the only use is to translate the in-memory buffer, make it void and modify the parameter.<br></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>mapping</code> - the mapping object of VoidMapping type</dd><dd><code>columnValues</code> - the values</dd>
<dt><span class="strong">Returns:</span></dt><dd>a <code>Collection<String></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ValueRemapper.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../it/cnr/isti/thematrix/mapping/creator/QueryCreator.html" title="class in it.cnr.isti.thematrix.mapping.creator"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?it/cnr/isti/thematrix/mapping/creator/ValueRemapper.html" target="_top">Frames</a></li>
<li><a href="ValueRemapper.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_67) on Mon Sep 01 14:10:27 CEST 2014 -->
<title>IadCreator</title>
<meta name="date" content="2014-09-01">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="IadCreator";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IadCreator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../../it/cnr/isti/thematrix/mapping/creator/MySQLAccess.html" title="class in it.cnr.isti.thematrix.mapping.creator"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?it/cnr/isti/thematrix/mapping/creator/IadCreator.html" target="_top">Frames</a></li>
<li><a href="IadCreator.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">it.cnr.isti.thematrix.mapping.creator</div>
<h2 title="Class IadCreator" class="title">Class IadCreator</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>it.cnr.isti.thematrix.mapping.creator.IadCreator</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">IadCreator</span>
extends java.lang.Object</pre>
<div class="block">Class to execute queries on the DBMS and retrieve datasets, called by MappingManager. This class relies on the
 QueryCreator to create the SQL queries. Both classes use the QuerySet class for holding queries. <br>
 
 Important: the class seems to support multiple queries to produce columns of a single IAD table, even when no JOIN is
 in place. It's not clear if this should be supported and if it is used currently. UNLESS this is the support for
 horizontally split-up queries (in that case there are issues in the implementation). <br>
 
 FIXME the Batch size is distinct from MappingManager but locally defined</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/creator/IadCreator.html#BATCH_SIZE">BATCH_SIZE</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/creator/IadCreator.html#DB_FETCH_SIZE">DB_FETCH_SIZE</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/creator/IadCreator.html#dbPassword">dbPassword</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.util.Collection&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/creator/IadCreator.html#generatedFiles">generatedFiles</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/creator/IadCreator.html#IadCreator()">IadCreator</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/creator/IadCreator.html#closeConnection(java.sql.Connection)">closeConnection</a></strong>(java.sql.Connection&nbsp;connection)</code>
<div class="block">Close JDBC connection.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.sql.Connection</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/creator/IadCreator.html#createConnection(it.cnr.isti.thematrix.configuration.setting.DbConnection)">createConnection</a></strong>(<a href="../../../../../../it/cnr/isti/thematrix/configuration/setting/DbConnection.html" title="class in it.cnr.isti.thematrix.configuration.setting">DbConnection</a>&nbsp;dbConn)</code>
<div class="block">Creates the JDBC connection to the DBMS; beforehand, it verifies if the password is available, or it reads it
 from console.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.util.Collection&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/creator/IadCreator.html#createHeader(java.util.ArrayList)">createHeader</a></strong>(java.util.ArrayList&lt;java.sql.ResultSet&gt;&nbsp;rsets)</code>
<div class="block">Returns the header for the temporary CSV files.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/creator/IadCreator.html#dumpTable(java.sql.ResultSet,%20java.lang.String)">dumpTable</a></strong>(java.sql.ResultSet&nbsp;resultSet,
         java.lang.String&nbsp;datasetName)</code>
<div class="block">Makes a dump of a DBMS table in CSV format; The dump is broken into several batches of BATCH_SIZE in order to
 avoid constructing very large SQL statement results in memory; it is saved periodically to the CSV file <br>
 
 TODO add code to check the number of received and dumped rows and log it to file - MC <br>
 TODO if the file was there but NOT valid, it should be truncated before the start! Otherwise it gets appended...</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/creator/IadCreator.html#dumpTableMySql(java.sql.ResultSet,%20java.lang.String)">dumpTableMySql</a></strong>(java.sql.ResultSet&nbsp;resultSet,
              java.lang.String&nbsp;datasetName)</code>
<div class="block">Makes a dump of a DBMS table of MySQL DB in CSV format; The dump is broken into several batches of BATCH_SIZE in order to
 avoid constructing very large SQL statement results in memory; it is saved periodically to the CSV file <br>
 
 TODO add code to check the number of received and dumped rows and log it to file - MC <br>
 TODO if the file was there but NOT valid, it should be truncated before the start! Otherwise it gets appended...</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/creator/IadCreator.html#dumpTables(java.util.ArrayList,%20java.lang.String)">dumpTables</a></strong>(java.util.ArrayList&lt;java.sql.ResultSet&gt;&nbsp;rsets,
          java.lang.String&nbsp;datasetName)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/creator/IadCreator.html#executeQuerySet(it.cnr.isti.thematrix.configuration.setting.DbConnection,%20it.cnr.isti.thematrix.mapping.utils.QuerySet,%20java.lang.String,%20java.lang.String)">executeQuerySet</a></strong>(<a href="../../../../../../it/cnr/isti/thematrix/configuration/setting/DbConnection.html" title="class in it.cnr.isti.thematrix.configuration.setting">DbConnection</a>&nbsp;dbConnection,
               <a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/QuerySet.html" title="class in it.cnr.isti.thematrix.mapping.utils">QuerySet</a>&nbsp;queries,
               java.lang.String&nbsp;path,
               java.lang.String&nbsp;version)</code>
<div class="block">Method to execute a set of queries over an instance of a DBMS connection, producing a CSV IAD file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/creator/IadCreator.html#performQueries(java.sql.Connection,%20it.cnr.isti.thematrix.mapping.utils.QuerySet,%20java.lang.String)">performQueries</a></strong>(java.sql.Connection&nbsp;connection,
              <a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/QuerySet.html" title="class in it.cnr.isti.thematrix.mapping.utils">QuerySet</a>&nbsp;queries,
              java.lang.String&nbsp;path)</code>
<div class="block">Executes a set of queries on the DBMS, with a provided open connection</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/mapping/creator/IadCreator.html#readPasswordFromConsole(java.lang.String)">readPasswordFromConsole</a></strong>(java.lang.String&nbsp;user)</code>
<div class="block">Prompts the user for the password on the console</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="DB_FETCH_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DB_FETCH_SIZE</h4>
<pre>private static&nbsp;int DB_FETCH_SIZE</pre>
</li>
</ul>
<a name="BATCH_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BATCH_SIZE</h4>
<pre>private static final&nbsp;int BATCH_SIZE</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#it.cnr.isti.thematrix.mapping.creator.IadCreator.BATCH_SIZE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="dbPassword">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dbPassword</h4>
<pre>private static&nbsp;java.lang.String dbPassword</pre>
</li>
</ul>
<a name="generatedFiles">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>generatedFiles</h4>
<pre>private static&nbsp;java.util.Collection&lt;java.lang.String&gt; generatedFiles</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="IadCreator()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>IadCreator</h4>
<pre>public&nbsp;IadCreator()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="executeQuerySet(it.cnr.isti.thematrix.configuration.setting.DbConnection, it.cnr.isti.thematrix.mapping.utils.QuerySet, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeQuerySet</h4>
<pre>public static&nbsp;void&nbsp;executeQuerySet(<a href="../../../../../../it/cnr/isti/thematrix/configuration/setting/DbConnection.html" title="class in it.cnr.isti.thematrix.configuration.setting">DbConnection</a>&nbsp;dbConnection,
                   <a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/QuerySet.html" title="class in it.cnr.isti.thematrix.mapping.utils">QuerySet</a>&nbsp;queries,
                   java.lang.String&nbsp;path,
                   java.lang.String&nbsp;version)
                            throws java.sql.SQLException,
                                   java.io.IOException,
                                   java.security.NoSuchAlgorithmException,
                                   java.lang.ClassNotFoundException,
                                   <a href="../../../../../../it/cnr/isti/thematrix/exception/JDBCConnectionException.html" title="class in it.cnr.isti.thematrix.exception">JDBCConnectionException</a>,
                                   javax.xml.bind.JAXBException,
                                   <a href="../../../../../../it/cnr/isti/thematrix/exception/UnsupportedDatabaseDriverException.html" title="class in it.cnr.isti.thematrix.exception">UnsupportedDatabaseDriverException</a></pre>
<div class="block">Method to execute a set of queries over an instance of a DBMS connection, producing a CSV IAD file. Calls smaller
 methods to perform the real tasks: <code>createConnection</code>, <code>execute queries</code>,
 <code>closeConnection</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>dbConnection</code> - An instance of <code>Connection</code> object.</dd><dd><code>queries</code> - The set of queries to be executed.</dd><dd><code>path</code> - The path used to save IAD file.</dd><dd><code>version</code> - Undocumented, not used.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.security.NoSuchAlgorithmException</code></dd>
<dd><code>java.lang.ClassNotFoundException</code></dd>
<dd><code><a href="../../../../../../it/cnr/isti/thematrix/exception/JDBCConnectionException.html" title="class in it.cnr.isti.thematrix.exception">JDBCConnectionException</a></code></dd>
<dd><code>javax.xml.bind.JAXBException</code></dd>
<dd><code><a href="../../../../../../it/cnr/isti/thematrix/exception/UnsupportedDatabaseDriverException.html" title="class in it.cnr.isti.thematrix.exception">UnsupportedDatabaseDriverException</a></code></dd></dl>
</li>
</ul>
<a name="performQueries(java.sql.Connection, it.cnr.isti.thematrix.mapping.utils.QuerySet, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>performQueries</h4>
<pre>private static&nbsp;void&nbsp;performQueries(java.sql.Connection&nbsp;connection,
                  <a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/QuerySet.html" title="class in it.cnr.isti.thematrix.mapping.utils">QuerySet</a>&nbsp;queries,
                  java.lang.String&nbsp;path)
                            throws java.sql.SQLException,
                                   java.io.IOException,
                                   java.security.NoSuchAlgorithmException,
                                   javax.xml.bind.JAXBException</pre>
<div class="block">Executes a set of queries on the DBMS, with a provided open connection</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>connection</code> - An instance of <code>Connection</code> object.</dd><dd><code>queries</code> - The set of queries to be executed.</dd><dd><code>path</code> - The path used to save the IAD file.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>javax.xml.bind.JAXBException</code></dd>
<dd><code>java.security.NoSuchAlgorithmException</code></dd>
<dd><code><a href="../../../../../../it/cnr/isti/thematrix/exception/DatasetRowLengthMismatch.html" title="class in it.cnr.isti.thematrix.exception">DatasetRowLengthMismatch</a></code></dd>
<dd><code>java.sql.SQLException</code></dd>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="createHeader(java.util.ArrayList)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createHeader</h4>
<pre>private static&nbsp;java.util.Collection&lt;java.lang.String&gt;&nbsp;createHeader(java.util.ArrayList&lt;java.sql.ResultSet&gt;&nbsp;rsets)
                                                            throws java.sql.SQLException</pre>
<div class="block">Returns the header for the temporary CSV files. <br>
 TODO document HOW it is generated.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rsets</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>the header as a collection of Strings (field names)</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
<a name="dumpTables(java.util.ArrayList, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dumpTables</h4>
<pre>@Deprecated
private static&nbsp;void&nbsp;dumpTables(java.util.ArrayList&lt;java.sql.ResultSet&gt;&nbsp;rsets,
                         java.lang.String&nbsp;datasetName)
                        throws java.sql.SQLException,
                               java.io.IOException,
                               java.security.NoSuchAlgorithmException,
                               javax.xml.bind.JAXBException,
                               <a href="../../../../../../it/cnr/isti/thematrix/exception/DatasetRowLengthMismatch.html" title="class in it.cnr.isti.thematrix.exception">DatasetRowLengthMismatch</a></pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
<div class="block">Makes a dump of a DBMS table in CSV format; CLASS IS DEPRECATED, IT IS UNSAFE. The dump is broken into several batches of BATCH_SIZE in order to
 avoid constructing very large SQL statement results in memory; it is saved periodically to the CSV file <br>
 
 TODO add code to check the number of received and dumped rows and log it to file - MC <br>
 TODO if the file was there but NOT valid, it should be truncated before the start! Otherwise it gets appended...
 
 FIXME the path parameter is unused, refactor?
 
 FIXME the management of DB_FETCH_SIZE and BATCH_SIZE is inconsistent, method will only work if they are the same!!!</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rsets</code> - The actual text of the query (or of the results? problem).</dd><dd><code>path</code> - The path used to save IAD file (in csv format).</dd><dd><code>datasetName</code> - The name of the file to save a dataset</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>javax.xml.bind.JAXBException</code></dd>
<dd><code>java.security.NoSuchAlgorithmException</code></dd>
<dd><code><a href="../../../../../../it/cnr/isti/thematrix/exception/DatasetRowLengthMismatch.html" title="class in it.cnr.isti.thematrix.exception">DatasetRowLengthMismatch</a></code></dd>
<dd><code>java.sql.SQLException</code></dd>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="dumpTable(java.sql.ResultSet, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dumpTable</h4>
<pre>private static&nbsp;void&nbsp;dumpTable(java.sql.ResultSet&nbsp;resultSet,
             java.lang.String&nbsp;datasetName)
                       throws java.sql.SQLException,
                              java.io.IOException,
                              java.security.NoSuchAlgorithmException,
                              javax.xml.bind.JAXBException,
                              <a href="../../../../../../it/cnr/isti/thematrix/exception/DatasetRowLengthMismatch.html" title="class in it.cnr.isti.thematrix.exception">DatasetRowLengthMismatch</a></pre>
<div class="block">Makes a dump of a DBMS table in CSV format; The dump is broken into several batches of BATCH_SIZE in order to
 avoid constructing very large SQL statement results in memory; it is saved periodically to the CSV file <br>
 
 TODO add code to check the number of received and dumped rows and log it to file - MC <br>
 TODO if the file was there but NOT valid, it should be truncated before the start! Otherwise it gets appended...
 
 
 FIXME the management of DB_FETCH_SIZE and BATCH_SIZE is inconsistent, method will only work if they are the same!!!</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>resultSet</code> - The actual text of the query (or of the results? problem).</dd><dd><code>datasetName</code> - The name of the file to save a dataset</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>javax.xml.bind.JAXBException</code></dd>
<dd><code>java.security.NoSuchAlgorithmException</code></dd>
<dd><code><a href="../../../../../../it/cnr/isti/thematrix/exception/DatasetRowLengthMismatch.html" title="class in it.cnr.isti.thematrix.exception">DatasetRowLengthMismatch</a></code></dd>
<dd><code>java.sql.SQLException</code></dd>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="dumpTableMySql(java.sql.ResultSet, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dumpTableMySql</h4>
<pre>private static&nbsp;void&nbsp;dumpTableMySql(java.sql.ResultSet&nbsp;resultSet,
                  java.lang.String&nbsp;datasetName)
                            throws java.sql.SQLException,
                                   java.security.NoSuchAlgorithmException,
                                   java.io.IOException,
                                   javax.xml.bind.JAXBException</pre>
<div class="block">Makes a dump of a DBMS table of MySQL DB in CSV format; The dump is broken into several batches of BATCH_SIZE in order to
 avoid constructing very large SQL statement results in memory; it is saved periodically to the CSV file <br>
 
 TODO add code to check the number of received and dumped rows and log it to file - MC <br>
 TODO if the file was there but NOT valid, it should be truncated before the start! Otherwise it gets appended...
 
 
 FIXME the management of DB_FETCH_SIZE and BATCH_SIZE is inconsistent, method will only work if they are the same!!!</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>resultSet</code> - The actual text of the query (or of the results? problem).</dd><dd><code>datasetName</code> - The name of the file to save a dataset</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>javax.xml.bind.JAXBException</code></dd>
<dd><code>java.security.NoSuchAlgorithmException</code></dd>
<dd><code><a href="../../../../../../it/cnr/isti/thematrix/exception/DatasetRowLengthMismatch.html" title="class in it.cnr.isti.thematrix.exception">DatasetRowLengthMismatch</a></code></dd>
<dd><code>java.sql.SQLException</code></dd>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="closeConnection(java.sql.Connection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeConnection</h4>
<pre>private static&nbsp;boolean&nbsp;closeConnection(java.sql.Connection&nbsp;connection)</pre>
<div class="block">Close JDBC connection.</div>
</li>
</ul>
<a name="createConnection(it.cnr.isti.thematrix.configuration.setting.DbConnection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createConnection</h4>
<pre>private static&nbsp;java.sql.Connection&nbsp;createConnection(<a href="../../../../../../it/cnr/isti/thematrix/configuration/setting/DbConnection.html" title="class in it.cnr.isti.thematrix.configuration.setting">DbConnection</a>&nbsp;dbConn)
                                             throws java.lang.ClassNotFoundException,
                                                    java.sql.SQLException,
                                                    <a href="../../../../../../it/cnr/isti/thematrix/exception/UnsupportedDatabaseDriverException.html" title="class in it.cnr.isti.thematrix.exception">UnsupportedDatabaseDriverException</a>,
                                                    java.lang.Error</pre>
<div class="block">Creates the JDBC connection to the DBMS; beforehand, it verifies if the password is available, or it reads it
 from console.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>dbConn</code> - our own public class holding the connection info</dd>
<dt><span class="strong">Returns:</span></dt><dd>undocumented, TODO</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.ClassNotFoundException</code></dd>
<dd><code>java.sql.SQLException</code></dd>
<dd><code><a href="../../../../../../it/cnr/isti/thematrix/exception/UnsupportedDatabaseDriverException.html" title="class in it.cnr.isti.thematrix.exception">UnsupportedDatabaseDriverException</a></code></dd>
<dd><code>java.lang.Error</code></dd></dl>
</li>
</ul>
<a name="readPasswordFromConsole(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>readPasswordFromConsole</h4>
<pre>private static&nbsp;java.lang.String&nbsp;readPasswordFromConsole(java.lang.String&nbsp;user)
                                                 throws java.lang.Exception</pre>
<div class="block">Prompts the user for the password on the console</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>user</code> - the username</dd>
<dt><span class="strong">Returns:</span></dt><dd>the password</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IadCreator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../../it/cnr/isti/thematrix/mapping/creator/MySQLAccess.html" title="class in it.cnr.isti.thematrix.mapping.creator"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?it/cnr/isti/thematrix/mapping/creator/IadCreator.html" target="_top">Frames</a></li>
<li><a href="IadCreator.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>

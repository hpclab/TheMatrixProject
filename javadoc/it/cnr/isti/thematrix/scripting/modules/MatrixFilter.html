<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_67) on Mon Sep 01 14:10:28 CEST 2014 -->
<title>MatrixFilter</title>
<meta name="date" content="2014-09-01">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MatrixFilter";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MatrixFilter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html" title="class in it.cnr.isti.thematrix.scripting.modules"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.Type.html" title="enum in it.cnr.isti.thematrix.scripting.modules"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html" target="_top">Frames</a></li>
<li><a href="MatrixFilter.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">it.cnr.isti.thematrix.scripting.modules</div>
<h2 title="Class MatrixFilter" class="title">Class MatrixFilter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>java.util.AbstractMap&lt;K,V&gt;</li>
<li>
<ul class="inheritance">
<li>java.util.HashMap&lt;java.lang.String,<a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/Symbol.html" title="class in it.cnr.isti.thematrix.scripting.sys">Symbol</a>&lt;?&gt;&gt;</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/SymbolTable.html" title="class in it.cnr.isti.thematrix.scripting.sys">it.cnr.isti.thematrix.scripting.sys.SymbolTable</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html" title="class in it.cnr.isti.thematrix.scripting.sys">it.cnr.isti.thematrix.scripting.sys.DatasetRecord</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">it.cnr.isti.thematrix.scripting.sys.MatrixModule</a></li>
<li>
<ul class="inheritance">
<li>it.cnr.isti.thematrix.scripting.modules.MatrixFilter</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.io.Serializable, java.lang.Cloneable, java.util.Map&lt;java.lang.String,<a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/Symbol.html" title="class in it.cnr.isti.thematrix.scripting.sys">Symbol</a>&lt;?&gt;&gt;</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">MatrixFilter</span>
extends <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a></pre>
<div class="block">Because this module requires a complex set of parameters, it is processed
 in a particular way. The immediate consequence is that the <a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html#setup()"><code>setup()</code></a> method,
 unusually, is not the one responsible for the most of the setup phase.
 
 A Filter is an object of type <a href="../../../../../../it/cnr/isti/thematrix/scripting/filtermodule/support/FilterCondition.html" title="interface in it.cnr.isti.thematrix.scripting.filtermodule.support"><code>FilterCondition</code></a>. Each filter is a predicate
 on an attribute of the module. For instance
  
     <code> FOO > 10 </code>
 
 where `FOO` is an integer column in this module. Every predicate is some kind
 of comparison operator; for a list, see the Matrix syntax manual (script_syntax_new.rtf)
 
 Because at the time of loading `FOO` does not point to a meaningful value, 
 and because the filter must be re-evaluated for each row, this module is initialized 
 as follow:
 
 <ol>
 
 <li> the interpreter instantiates the object, 
 
 <li> it then invokes <a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html#addInput(java.lang.String,%20java.lang.String)"><code>addInput(String, String)</code></a> with the inputModule parameters.
 
 <li> finally, it invokes <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/TheMatrixSys.html#setCurrentModule(it.cnr.isti.thematrix.scripting.sys.MatrixModule)"><code>TheMatrixSys.setCurrentModule(MatrixModule)</code></a> with the
 inputModule instance. This way, the interpreter can retrieve the input module with 
 <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/TheMatrixSys.html#getCurrentModule()"><code>TheMatrixSys.getCurrentModule()</code></a> to retrieve the references
 
 <li> for each comparison operator found in the `parameters` section an object of type
 <a href="../../../../../../it/cnr/isti/thematrix/scripting/filtermodule/support/SingleFilterCondition.html" title="class in it.cnr.isti.thematrix.scripting.filtermodule.support"><code>SingleFilterCondition</code></a> is created, with a boolean <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/Operation.html" title="interface in it.cnr.isti.thematrix.scripting.sys"><code>Operation</code></a>: the left-hand 
 operand will be the <code>Symbol</code> corresponding to the left member of the comparison 
 (in our example, `FOO`), the right-hand operand is a <code>Symbol</code> corresponding to a literal
 (in our example, 10) or to a parameter <a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixParameters.html" title="class in it.cnr.isti.thematrix.scripting.modules"><code>MatrixParameters</code></a> (e.g., $SOME_PARAM).
 
 <li> the list of predicates is linked together using a connective <a href="../../../../../../it/cnr/isti/thematrix/scripting/filtermodule/support/OrFilterSequence.html" title="class in it.cnr.isti.thematrix.scripting.filtermodule.support"><code>OrFilterSequence</code></a> or 
 <a href="../../../../../../it/cnr/isti/thematrix/scripting/filtermodule/support/AndFilterSequence.html" title="class in it.cnr.isti.thematrix.scripting.filtermodule.support"><code>AndFilterSequence</code></a>, which decorates the list of predicates
 
 <li> Moreover, if the semantics of the filter is to DISCARD the matching records, a 
    <a href="../../../../../../it/cnr/isti/thematrix/scripting/filtermodule/support/DiscardFilterCondition.html" title="class in it.cnr.isti.thematrix.scripting.filtermodule.support"><code>DiscardFilterCondition</code></a> wraps the chain inverts the meaning of the list of predicates
    (it is effectively a boolean NOT)
    
 <li> Finally, the interpreter invokes <a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html#setFilters(it.cnr.isti.thematrix.scripting.filtermodule.support.FilterCondition)"><code>setFilters(FilterCondition)</code></a> with the given 
     list of predicates
     
 </ol>
 
 
 <strong>Execution model.</strong>
 When the filter is queried with <a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html#hasMore()"><code>hasMore()</code></a>, the <a href="../../../../../../it/cnr/isti/thematrix/scripting/filtermodule/support/FilterCondition.html#apply()"><code>FilterCondition.apply()</code></a> method 
 is invoked, when the method returns true, the tuple is kept, otherwise, it is discarded:
 in former case, the module sets its internal pointers to the values of the input module; 
 otherwise it advances the pointer of the input module until a matching tuple is found
 
 
 
 <strong>Caveats.</strong> Because the internal references to the target are setup
 <em>while evaluating the input script</em> and internal post-processing may require to
 fiddle with these internal pointers, this module is quite brittle and requires extra-care.
 
 It might be useful in future re-implementation to re-iterate over the given <a href="../../../../../../it/cnr/isti/thematrix/scripting/filtermodule/support/FilterCondition.html" title="interface in it.cnr.isti.thematrix.scripting.filtermodule.support"><code>FilterCondition</code></a>
 and pull-out the name of the operands, re-instantiating predicates over the actual inputs.
 However, current implementation does provide a way to change the input to an arbitrary module.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>edoardovacchi, carlini</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../serialized-form.html#it.cnr.isti.thematrix.scripting.modules.MatrixFilter">Serialized Form</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.Type.html" title="enum in it.cnr.isti.thematrix.scripting.modules">MatrixFilter.Type</a></strong></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_java.util.AbstractMap">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;java.util.AbstractMap</h3>
<code>java.util.AbstractMap.SimpleEntry&lt;K,V&gt;, java.util.AbstractMap.SimpleImmutableEntry&lt;K,V&gt;</code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html" title="class in it.cnr.isti.thematrix.scripting.sys">DatasetRecord</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html#buffer">buffer</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html#computed">computed</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html#discardedRows">discardedRows</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../it/cnr/isti/thematrix/scripting/filtermodule/support/FilterCondition.html" title="interface in it.cnr.isti.thematrix.scripting.filtermodule.support">FilterCondition</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html#filters">filters</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html#hasNext">hasNext</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html#inited">inited</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html#inputModule">inputModule</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html#inputModuleName">inputModuleName</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html#isValidBuffer">isValidBuffer</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html#serialVersionUID">serialVersionUID</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html#totalRows">totalRows</a></strong></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_it.cnr.isti.thematrix.scripting.sys.MatrixModule">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;it.cnr.isti.thematrix.scripting.sys.<a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a></h3>
<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#name">name</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html#MatrixFilter(java.lang.String)">MatrixFilter</a></strong>(java.lang.String&nbsp;name)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html#addInput(java.lang.String,%20java.lang.String)">addInput</a></strong>(java.lang.String&nbsp;inputModuleName,
        java.lang.String&nbsp;inputSchema)</code>
<div class="block">fills the <a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html#inputModule"><code>inputModule</code></a> field with the 
 object instance that matches the given name and schema.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html#changeInput(it.cnr.isti.thematrix.scripting.sys.MatrixModule)">changeInput</a></strong>(<a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a>&nbsp;m)</code>
<div class="block">Special method used to hack the input of a module to a different module
 <b>with the same schema</b>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html#exec()">exec</a></strong>()</code>
<div class="block">this method has no longer a real purpose.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html#hasMore()">hasMore</a></strong>()</code>
<div class="block">It is safe to be called multiple times.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html#next()">next</a></strong>()</code>
<div class="block">Returns the content in the buffer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html#prepareNextRow()">prepareNextRow</a></strong>()</code>
<div class="block">Prepares the next row.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html#reset()">reset</a></strong>()</code>
<div class="block">resets the internal state of the module: it restore the internal cursor to the first
 record of the dataset, and it restores any other variable to sane defaults.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html#setFilters(it.cnr.isti.thematrix.scripting.filtermodule.support.FilterCondition)">setFilters</a></strong>(<a href="../../../../../../it/cnr/isti/thematrix/scripting/filtermodule/support/FilterCondition.html" title="interface in it.cnr.isti.thematrix.scripting.filtermodule.support">FilterCondition</a>&nbsp;filters)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html#setup()">setup</a></strong>()</code>
<div class="block">This method is invoked <strong> once </strong> by the interpreter, after the constructor, 
 during the analysis of the input script.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html#toString()">toString</a></strong>()</code>
<div class="block">default toString() for Modules</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_it.cnr.isti.thematrix.scripting.sys.MatrixModule">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;it.cnr.isti.thematrix.scripting.sys.<a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a></h3>
<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#addConsumer(it.cnr.isti.thematrix.scripting.sys.MatrixModule)">addConsumer</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#get(java.lang.Object)">get</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#getConsumers()">getConsumers</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#getLogicalConsumers()">getLogicalConsumers</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#getReferenceCount()">getReferenceCount</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#hasOneInput()">hasOneInput</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#schemaMatches(java.lang.String)">schemaMatches</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#setLogicalConsumer(it.cnr.isti.thematrix.scripting.sys.MatrixModule)">setLogicalConsumer</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#setLogicalConsumers(java.util.List)">setLogicalConsumers</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#substituteInput(it.cnr.isti.thematrix.scripting.sys.MatrixModule,%20it.cnr.isti.thematrix.scripting.sys.MatrixModule)">substituteInput</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_it.cnr.isti.thematrix.scripting.sys.DatasetRecord">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;it.cnr.isti.thematrix.scripting.sys.<a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html" title="class in it.cnr.isti.thematrix.scripting.sys">DatasetRecord</a></h3>
<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html#attributes()">attributes</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html#clear()">clear</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html#deepCopy()">deepCopy</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html#emptyRecord(it.cnr.isti.thematrix.scripting.sys.DatasetRecord)">emptyRecord</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html#getSchema()">getSchema</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html#isSchemaEmpty()">isSchemaEmpty</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html#linkTo(java.util.List)">linkTo</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html#put(java.lang.String,%20it.cnr.isti.thematrix.scripting.sys.Symbol)">put</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html#setAll(it.cnr.isti.thematrix.scripting.sys.DatasetRecord)">setAll</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html#setSchema(it.cnr.isti.thematrix.scripting.sys.DatasetSchema)">setSchema</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_it.cnr.isti.thematrix.scripting.sys.SymbolTable">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;it.cnr.isti.thematrix.scripting.sys.<a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/SymbolTable.html" title="class in it.cnr.isti.thematrix.scripting.sys">SymbolTable</a></h3>
<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/SymbolTable.html#isCompatible(java.lang.String,%20java.lang.String)">isCompatible</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/SymbolTable.html#putAll(java.util.Collection)">putAll</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/SymbolTable.html#set(java.lang.String,%20T)">set</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.util.HashMap">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.util.HashMap</h3>
<code>clone, containsKey, containsValue, entrySet, isEmpty, keySet, putAll, remove, size, values</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.util.AbstractMap">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.util.AbstractMap</h3>
<code>equals, hashCode</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>finalize, getClass, notify, notifyAll, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.util.Map">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;java.util.Map</h3>
<code>equals, hashCode</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="serialVersionUID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serialVersionUID</h4>
<pre>private static final&nbsp;long serialVersionUID</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#it.cnr.isti.thematrix.scripting.modules.MatrixFilter.serialVersionUID">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="inputModuleName">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inputModuleName</h4>
<pre>private&nbsp;java.lang.String inputModuleName</pre>
</li>
</ul>
<a name="inputModule">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inputModule</h4>
<pre>private&nbsp;<a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a> inputModule</pre>
</li>
</ul>
<a name="filters">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>filters</h4>
<pre>private&nbsp;<a href="../../../../../../it/cnr/isti/thematrix/scripting/filtermodule/support/FilterCondition.html" title="interface in it.cnr.isti.thematrix.scripting.filtermodule.support">FilterCondition</a> filters</pre>
</li>
</ul>
<a name="totalRows">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>totalRows</h4>
<pre>private&nbsp;long totalRows</pre>
</li>
</ul>
<a name="discardedRows">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>discardedRows</h4>
<pre>private&nbsp;long discardedRows</pre>
</li>
</ul>
<a name="buffer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buffer</h4>
<pre>private&nbsp;<a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html" title="class in it.cnr.isti.thematrix.scripting.sys">DatasetRecord</a> buffer</pre>
</li>
</ul>
<a name="inited">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inited</h4>
<pre>private&nbsp;boolean inited</pre>
</li>
</ul>
<a name="isValidBuffer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isValidBuffer</h4>
<pre>private&nbsp;boolean isValidBuffer</pre>
</li>
</ul>
<a name="hasNext">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasNext</h4>
<pre>private&nbsp;boolean hasNext</pre>
</li>
</ul>
<a name="computed">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>computed</h4>
<pre>private&nbsp;boolean computed</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MatrixFilter(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MatrixFilter</h4>
<pre>public&nbsp;MatrixFilter(java.lang.String&nbsp;name)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setFilters(it.cnr.isti.thematrix.scripting.filtermodule.support.FilterCondition)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFilters</h4>
<pre>public&nbsp;void&nbsp;setFilters(<a href="../../../../../../it/cnr/isti/thematrix/scripting/filtermodule/support/FilterCondition.html" title="interface in it.cnr.isti.thematrix.scripting.filtermodule.support">FilterCondition</a>&nbsp;filters)</pre>
</li>
</ul>
<a name="addInput(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addInput</h4>
<pre>public&nbsp;void&nbsp;addInput(java.lang.String&nbsp;inputModuleName,
            java.lang.String&nbsp;inputSchema)</pre>
<div class="block">fills the <a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html#inputModule"><code>inputModule</code></a> field with the 
 object instance that matches the given name and schema.
 Moreover, it sets the schema for this module. Finally,</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>inputModuleName</code> - input module name</dd><dd><code>inputSchema</code> - schema name for the given module</dd></dl>
</li>
</ul>
<a name="setup()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setup</h4>
<pre>public&nbsp;void&nbsp;setup()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#setup()">MatrixModule</a></code></strong></div>
<div class="block">This method is invoked <strong> once </strong> by the interpreter, after the constructor, 
 during the analysis of the input script.
 
 The purpose of this method is to setup the internal state of the module, so that the following
 modules in the script can safely access this module's data
 
 In this method, the programmer <strong>must</strong> invoke 
 <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html#setSchema(it.cnr.isti.thematrix.scripting.sys.DatasetSchema)"><code>DatasetRecord.setSchema(DatasetSchema)</code></a> with a proper <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetSchema.html" title="class in it.cnr.isti.thematrix.scripting.sys"><code>DatasetSchema</code></a> instance
 and any other internal state variables must be initialized to sane defaults.
 
 If this module has inputs, it is also supposed to invoke <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#addConsumer(it.cnr.isti.thematrix.scripting.sys.MatrixModule)"><code>MatrixModule.addConsumer(MatrixModule)</code></a>
 for each input module instance.
 
 Subclasses may implement this method in such a way that it may be re-invoked by 
 <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#changeInput(it.cnr.isti.thematrix.scripting.sys.MatrixModule)"><code>MatrixModule.changeInput(MatrixModule)</code></a> or <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#substituteInput(it.cnr.isti.thematrix.scripting.sys.MatrixModule,%20it.cnr.isti.thematrix.scripting.sys.MatrixModule)"><code>MatrixModule.substituteInput(MatrixModule, MatrixModule)</code></a>
 to re-setup the internal state of the module.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#setup()">setup</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a></code></dd>
</dl>
</li>
</ul>
<a name="exec()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exec</h4>
<pre>public&nbsp;void&nbsp;exec()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#exec()">MatrixModule</a></code></strong></div>
<div class="block">this method has no longer a real purpose. It is invoked by the interpreter when <strong>all</strong> 
 of the input script has been processed, for all modules in the script, in sequence.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#exec()">exec</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a></code></dd>
</dl>
</li>
</ul>
<a name="reset()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reset</h4>
<pre>public&nbsp;void&nbsp;reset()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#reset()">MatrixModule</a></code></strong></div>
<div class="block">resets the internal state of the module: it restore the internal cursor to the first
 record of the dataset, and it restores any other variable to sane defaults.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#reset()">reset</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a></code></dd>
</dl>
</li>
</ul>
<a name="prepareNextRow()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepareNextRow</h4>
<pre>private&nbsp;boolean&nbsp;prepareNextRow()</pre>
<div class="block">Prepares the next row.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if the line in the buffer is valid (false means that the inputModule has no more lines).</dd></dl>
</li>
</ul>
<a name="hasMore()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasMore</h4>
<pre>public&nbsp;boolean&nbsp;hasMore()</pre>
<div class="block">It is safe to be called multiple times.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#hasMore()">hasMore</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>true until the dataset has reached its last record</dd></dl>
</li>
</ul>
<a name="next()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>next</h4>
<pre>public&nbsp;void&nbsp;next()</pre>
<div class="block">Returns the content in the buffer.
 Raises error if it is called before the hasMore() or twice in a row,</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#next()">next</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a></code></dd>
</dl>
</li>
</ul>
<a name="changeInput(it.cnr.isti.thematrix.scripting.sys.MatrixModule)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changeInput</h4>
<pre>public&nbsp;void&nbsp;changeInput(<a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a>&nbsp;m)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#changeInput(it.cnr.isti.thematrix.scripting.sys.MatrixModule)">MatrixModule</a></code></strong></div>
<div class="block">Special method used to hack the input of a module to a different module
 <b>with the same schema</b>.
 
 By default (if not overridden by a concrete module class) it will emit a
 line in the log. This method is needed for relinking those modules that
 keep a reference to their source modules after their setup() call
 (examples: Filter, Product), each time we need to modify the graph of
 modules right before execution of the script (postprocessing in
 TheMatrix.sys, SortModule and others).
 
 Method needed whenever we want to add a buffer module with its proxy
 modules. This always happens after the module chain has been already
 built by the interpreter.
 
 Method used to have a by-default error behaviour as 1) the input variable
 has not been standardized in this abstract class; 2) there can be
 specific dependencies with code in the setup, exec and reset methods.
 
 Currently, it just logs (i.e. all modules which need it MUST override it,
 or they will compute on void/incorrect data).
 
 FIXME rewrite following quick and dirty notes about the effect of
 changing inputs
 
 per il filter: change input analizza i due riferimenti ai termini da
 confrontare; <br>
 li cambia con il nuovo input. se la seconda colonna non viene trovata
 vuol dire che era una costante e viene ignorata. (questo perche' il
 filter puo' usare piu' colonne del suo unico input).
 
 per il product e in generale per tutti i moduli con due input distinti <br>
 c'e' il problema di capire quale stiamo andando a sostituire, la
 changeinput con un solo parametro non basta
 
 TODO In the future, we may refactor MatrixModule to contain the input
 reference, taking care of the common case.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#changeInput(it.cnr.isti.thematrix.scripting.sys.MatrixModule)">changeInput</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>m</code> - the new module to be set as input (passed by reference, does
            not need to belong to the module list).</dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#toString()">MatrixModule</a></code></strong></div>
<div class="block">default toString() for Modules</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#toString()">toString</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MatrixFilter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html" title="class in it.cnr.isti.thematrix.scripting.modules"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.Type.html" title="enum in it.cnr.isti.thematrix.scripting.modules"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html" target="_top">Frames</a></li>
<li><a href="MatrixFilter.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_67) on Mon Sep 01 14:10:28 CEST 2014 -->
<title>MatrixFileOutput</title>
<meta name="date" content="2014-09-01">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MatrixFileOutput";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MatrixFileOutput.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileInput.html" title="class in it.cnr.isti.thematrix.scripting.modules"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html" title="class in it.cnr.isti.thematrix.scripting.modules"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html" target="_top">Frames</a></li>
<li><a href="MatrixFileOutput.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_java.util.AbstractMap">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">it.cnr.isti.thematrix.scripting.modules</div>
<h2 title="Class MatrixFileOutput" class="title">Class MatrixFileOutput</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>java.util.AbstractMap&lt;K,V&gt;</li>
<li>
<ul class="inheritance">
<li>java.util.HashMap&lt;java.lang.String,<a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/Symbol.html" title="class in it.cnr.isti.thematrix.scripting.sys">Symbol</a>&lt;?&gt;&gt;</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/SymbolTable.html" title="class in it.cnr.isti.thematrix.scripting.sys">it.cnr.isti.thematrix.scripting.sys.SymbolTable</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html" title="class in it.cnr.isti.thematrix.scripting.sys">it.cnr.isti.thematrix.scripting.sys.DatasetRecord</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">it.cnr.isti.thematrix.scripting.sys.MatrixModule</a></li>
<li>
<ul class="inheritance">
<li>it.cnr.isti.thematrix.scripting.modules.MatrixFileOutput</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.io.Serializable, java.lang.Cloneable, java.util.Map&lt;java.lang.String,<a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/Symbol.html" title="class in it.cnr.isti.thematrix.scripting.sys">Symbol</a>&lt;?&gt;&gt;</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">MatrixFileOutput</span>
extends <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a></pre>
<div class="block">Class defining the behaviour of an output module. It currently builds a file
 name and opens a CSV file in <code>setup()</code>, then pulls an input row to
 disk at each <code>next()</code> call. By convention the name of the module
 is the same as name of the output file. Suffix-trimmed field baseName is used
 to ensure the CSVFile doesn't add double suffixes.
 
 FIXME this class does NOT write a file if no data rows are present (next() is
 never called ) but should instead write a file containing the header (and
 generate the xml descriptor).
 
 This class will need to be reworked a bit to save the file to either the
 results directory or the iad directory. Reworking needed because the file
 name is currently decided at setup() time, so it can be changed only if the
 module is created manually. <br>
 INTEDED BEHAVIOUR: if the module is defined within the script, it saves to
 results/ ; if it is added automatically, it saves to iad/. In both cases the
 cache will be able to track the file. <br>
 CURRENT BEHAVIOUR: all is saved to IAD, which is the default. Code is already
 in place for changing the default.
 
 Behaviour modified to treat the ".csv" suffix in a special way: module will
 no longer create ".csv.csv" files. <br>
 FIXME patching in progress, the xml descriptor becomes mandatory (always
 present) and contains also schema infomration</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>massimo</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../serialized-form.html#it.cnr.isti.thematrix.scripting.modules.MatrixFileOutput">Serialized Form</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_java.util.AbstractMap">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;java.util.AbstractMap</h3>
<code>java.util.AbstractMap.SimpleEntry&lt;K,V&gt;, java.util.AbstractMap.SimpleImmutableEntry&lt;K,V&gt;</code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#atFirst">atFirst</a></strong></code>
<div class="block">true if hasMore() has never been called, exploited to detect empty
 streams and save the file even if next() is never called</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#baseName">baseName</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#cachedHasMore">cachedHasMore</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#cacheValid">cacheValid</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../it/cnr/isti/thematrix/common/Enums.ChecksumType.html" title="enum in it.cnr.isti.thematrix.common">Enums.ChecksumType</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#doChecksum">doChecksum</a></strong></code>
<div class="block">doChecksum : indicates type of checksum for the file</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../it/cnr/isti/thematrix/common/Enums.CompressionType.html" title="enum in it.cnr.isti.thematrix.common">Enums.CompressionType</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#doCompression">doCompression</a></strong></code>
<div class="block">doCompression : indicates type of compression for read/write the file</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#inputModule">inputModule</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#iterationCount">iterationCount</a></strong></code>
<div class="block">number of the current iterations (i.e.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/CSVFile.html" title="class in it.cnr.isti.thematrix.mapping.utils">CSVFile</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#outputCSV">outputCSV</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#postProcessed">postProcessed</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#rowsInBatch">rowsInBatch</a></strong></code>
<div class="block">number of rows in the internal file writer buffer (CSVFile) for the current batch</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#rowsTotal">rowsTotal</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#saveToResultsPath">saveToResultsPath</a></strong></code>
<div class="block">If true, the module will use the results path instead of the IAD path.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#serialVersionUID">serialVersionUID</a></strong></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_it.cnr.isti.thematrix.scripting.sys.MatrixModule">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;it.cnr.isti.thematrix.scripting.sys.<a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a></h3>
<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#name">name</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#MatrixFileOutput(java.lang.String,%20it.cnr.isti.thematrix.scripting.sys.MatrixModule)">MatrixFileOutput</a></strong>(java.lang.String&nbsp;name,
                <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a>&nbsp;inputModule)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#MatrixFileOutput(java.lang.String,%20it.cnr.isti.thematrix.scripting.sys.MatrixModule,%20java.lang.String,%20it.cnr.isti.thematrix.common.Enums.ChecksumType,%20it.cnr.isti.thematrix.common.Enums.CompressionType)">MatrixFileOutput</a></strong>(java.lang.String&nbsp;name,
                <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a>&nbsp;inputModule,
                java.lang.String&nbsp;schema,
                <a href="../../../../../../it/cnr/isti/thematrix/common/Enums.ChecksumType.html" title="enum in it.cnr.isti.thematrix.common">Enums.ChecksumType</a>&nbsp;checksum,
                <a href="../../../../../../it/cnr/isti/thematrix/common/Enums.CompressionType.html" title="enum in it.cnr.isti.thematrix.common">Enums.CompressionType</a>&nbsp;compression)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#MatrixFileOutput(java.lang.String,%20java.lang.String,%20java.lang.String,%20it.cnr.isti.thematrix.common.Enums.ChecksumType,%20it.cnr.isti.thematrix.common.Enums.CompressionType)">MatrixFileOutput</a></strong>(java.lang.String&nbsp;name,
                java.lang.String&nbsp;inputModule,
                java.lang.String&nbsp;schema,
                <a href="../../../../../../it/cnr/isti/thematrix/common/Enums.ChecksumType.html" title="enum in it.cnr.isti.thematrix.common">Enums.ChecksumType</a>&nbsp;checksum,
                <a href="../../../../../../it/cnr/isti/thematrix/common/Enums.CompressionType.html" title="enum in it.cnr.isti.thematrix.common">Enums.CompressionType</a>&nbsp;compression)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/Symbol.html" title="class in it.cnr.isti.thematrix.scripting.sys">Symbol</a>&lt;?&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#attributes()">attributes</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#beforeFirstHasMore()">beforeFirstHasMore</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#changeInput(it.cnr.isti.thematrix.scripting.sys.MatrixModule)">changeInput</a></strong>(<a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a>&nbsp;m)</code>
<div class="block">Special method used to hack the input of a module to a different module
 <b>with the same schema</b>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#exec()">exec</a></strong>()</code>
<div class="block">this method has no longer a real purpose.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/Symbol.html" title="class in it.cnr.isti.thematrix.scripting.sys">Symbol</a>&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#get(java.lang.Object)">get</a></strong>(java.lang.Object&nbsp;name)</code>
<div class="block">When this method is invoked <strong>before</strong> any invocation to <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#next()"><code>MatrixModule.next()</code></a>
 the behavior is <strong>undefined</strong>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#getRowsTotal()">getRowsTotal</a></strong>()</code>
<div class="block">The total number of records written so far by this Output module</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#hadMore()">hadMore</a></strong>()</code>
<div class="block">This method internally substitutes the hasMore() call, letting the call
 through only if we don't already have a value stored.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#hasMore()">hasMore</a></strong>()</code>
<div class="block">I am not terribly fond of all this computation in a boolean method TODO
 check whether it's really the best way</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#isPostProcessed()">isPostProcessed</a></strong>()</code>
<div class="block">Tells if the module has been added/edited during postprocessing in such a
 way that it needs to be ignored afterwards.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#next()">next</a></strong>()</code>
<div class="block">The next method is calling an extra hasMore each round (for safety) which
 will become a problem as OutputModules now can chain due to the
 BufferFileModule, so the amount of extra useless call can get quadratic
 in the lenght of the chain.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#reset()">reset</a></strong>()</code>
<div class="block">resets the internal state of the module: it restore the internal cursor to the first
 record of the dataset, and it restores any other variable to sane defaults.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#setPostProcessed()">setPostProcessed</a></strong>()</code>
<div class="block">set the postProcessed flag, telling further postprocessing to ignore this
 output module</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#setSaveToResultsPath(boolean)">setSaveToResultsPath</a></strong>(boolean&nbsp;b)</code>
<div class="block">Call this method before setup to enable/disable use of the Results path.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#setup()">setup</a></strong>()</code>
<div class="block">This method is invoked <strong> once </strong> by the interpreter, after the constructor, 
 during the analysis of the input script.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html#writeEmptyFile()">writeEmptyFile</a></strong>()</code>
<div class="block">This method will write an empty file in case the input is empty (we still
 need the header and the xml descriptor for future use)</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_it.cnr.isti.thematrix.scripting.sys.MatrixModule">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;it.cnr.isti.thematrix.scripting.sys.<a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a></h3>
<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#addConsumer(it.cnr.isti.thematrix.scripting.sys.MatrixModule)">addConsumer</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#getConsumers()">getConsumers</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#getLogicalConsumers()">getLogicalConsumers</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#getReferenceCount()">getReferenceCount</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#hasOneInput()">hasOneInput</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#schemaMatches(java.lang.String)">schemaMatches</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#setLogicalConsumer(it.cnr.isti.thematrix.scripting.sys.MatrixModule)">setLogicalConsumer</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#setLogicalConsumers(java.util.List)">setLogicalConsumers</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#substituteInput(it.cnr.isti.thematrix.scripting.sys.MatrixModule,%20it.cnr.isti.thematrix.scripting.sys.MatrixModule)">substituteInput</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#toString()">toString</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_it.cnr.isti.thematrix.scripting.sys.DatasetRecord">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;it.cnr.isti.thematrix.scripting.sys.<a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html" title="class in it.cnr.isti.thematrix.scripting.sys">DatasetRecord</a></h3>
<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html#clear()">clear</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html#deepCopy()">deepCopy</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html#emptyRecord(it.cnr.isti.thematrix.scripting.sys.DatasetRecord)">emptyRecord</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html#getSchema()">getSchema</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html#isSchemaEmpty()">isSchemaEmpty</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html#linkTo(java.util.List)">linkTo</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html#put(java.lang.String,%20it.cnr.isti.thematrix.scripting.sys.Symbol)">put</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html#setAll(it.cnr.isti.thematrix.scripting.sys.DatasetRecord)">setAll</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html#setSchema(it.cnr.isti.thematrix.scripting.sys.DatasetSchema)">setSchema</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_it.cnr.isti.thematrix.scripting.sys.SymbolTable">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;it.cnr.isti.thematrix.scripting.sys.<a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/SymbolTable.html" title="class in it.cnr.isti.thematrix.scripting.sys">SymbolTable</a></h3>
<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/SymbolTable.html#isCompatible(java.lang.String,%20java.lang.String)">isCompatible</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/SymbolTable.html#putAll(java.util.Collection)">putAll</a>, <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/SymbolTable.html#set(java.lang.String,%20T)">set</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.util.HashMap">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.util.HashMap</h3>
<code>clone, containsKey, containsValue, entrySet, isEmpty, keySet, putAll, remove, size, values</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.util.AbstractMap">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.util.AbstractMap</h3>
<code>equals, hashCode</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>finalize, getClass, notify, notifyAll, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.util.Map">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;java.util.Map</h3>
<code>equals, hashCode</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="serialVersionUID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serialVersionUID</h4>
<pre>private static final&nbsp;long serialVersionUID</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#it.cnr.isti.thematrix.scripting.modules.MatrixFileOutput.serialVersionUID">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="inputModule">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inputModule</h4>
<pre>private&nbsp;<a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a> inputModule</pre>
</li>
</ul>
<a name="outputCSV">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>outputCSV</h4>
<pre><a href="../../../../../../it/cnr/isti/thematrix/mapping/utils/CSVFile.html" title="class in it.cnr.isti.thematrix.mapping.utils">CSVFile</a> outputCSV</pre>
</li>
</ul>
<a name="rowsInBatch">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rowsInBatch</h4>
<pre>private&nbsp;int rowsInBatch</pre>
<div class="block">number of rows in the internal file writer buffer (CSVFile) for the current batch</div>
</li>
</ul>
<a name="iterationCount">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>iterationCount</h4>
<pre>private&nbsp;int iterationCount</pre>
<div class="block">number of the current iterations (i.e. number of the file batch we are writing, with 0 the first)</div>
</li>
</ul>
<a name="atFirst">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>atFirst</h4>
<pre>private&nbsp;boolean atFirst</pre>
<div class="block">true if hasMore() has never been called, exploited to detect empty
 streams and save the file even if next() is never called</div>
</li>
</ul>
<a name="rowsTotal">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rowsTotal</h4>
<pre>private&nbsp;int rowsTotal</pre>
</li>
</ul>
<a name="baseName">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>baseName</h4>
<pre>private&nbsp;java.lang.String baseName</pre>
</li>
</ul>
<a name="postProcessed">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postProcessed</h4>
<pre>private&nbsp;boolean postProcessed</pre>
</li>
</ul>
<a name="cachedHasMore">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cachedHasMore</h4>
<pre>private&nbsp;boolean cachedHasMore</pre>
</li>
</ul>
<a name="cacheValid">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cacheValid</h4>
<pre>private&nbsp;boolean cacheValid</pre>
</li>
</ul>
<a name="saveToResultsPath">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveToResultsPath</h4>
<pre>private&nbsp;boolean saveToResultsPath</pre>
<div class="block">If true, the module will use the results path instead of the IAD path.
 Currently unused, will be set to true only for module which are
 automatically created after the script parsing (thus usually being true
 only for the load scripts). We will then need to change the default value
 to true.</div>
</li>
</ul>
<a name="doChecksum">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doChecksum</h4>
<pre>private&nbsp;<a href="../../../../../../it/cnr/isti/thematrix/common/Enums.ChecksumType.html" title="enum in it.cnr.isti.thematrix.common">Enums.ChecksumType</a> doChecksum</pre>
<div class="block">doChecksum : indicates type of checksum for the file</div>
</li>
</ul>
<a name="doCompression">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>doCompression</h4>
<pre>private&nbsp;<a href="../../../../../../it/cnr/isti/thematrix/common/Enums.CompressionType.html" title="enum in it.cnr.isti.thematrix.common">Enums.CompressionType</a> doCompression</pre>
<div class="block">doCompression : indicates type of compression for read/write the file</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MatrixFileOutput(java.lang.String, it.cnr.isti.thematrix.scripting.sys.MatrixModule)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MatrixFileOutput</h4>
<pre>public&nbsp;MatrixFileOutput(java.lang.String&nbsp;name,
                <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a>&nbsp;inputModule)</pre>
</li>
</ul>
<a name="MatrixFileOutput(java.lang.String, java.lang.String, java.lang.String, it.cnr.isti.thematrix.common.Enums.ChecksumType, it.cnr.isti.thematrix.common.Enums.CompressionType)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MatrixFileOutput</h4>
<pre>public&nbsp;MatrixFileOutput(java.lang.String&nbsp;name,
                java.lang.String&nbsp;inputModule,
                java.lang.String&nbsp;schema,
                <a href="../../../../../../it/cnr/isti/thematrix/common/Enums.ChecksumType.html" title="enum in it.cnr.isti.thematrix.common">Enums.ChecksumType</a>&nbsp;checksum,
                <a href="../../../../../../it/cnr/isti/thematrix/common/Enums.CompressionType.html" title="enum in it.cnr.isti.thematrix.common">Enums.CompressionType</a>&nbsp;compression)</pre>
</li>
</ul>
<a name="MatrixFileOutput(java.lang.String, it.cnr.isti.thematrix.scripting.sys.MatrixModule, java.lang.String, it.cnr.isti.thematrix.common.Enums.ChecksumType, it.cnr.isti.thematrix.common.Enums.CompressionType)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MatrixFileOutput</h4>
<pre>public&nbsp;MatrixFileOutput(java.lang.String&nbsp;name,
                <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a>&nbsp;inputModule,
                java.lang.String&nbsp;schema,
                <a href="../../../../../../it/cnr/isti/thematrix/common/Enums.ChecksumType.html" title="enum in it.cnr.isti.thematrix.common">Enums.ChecksumType</a>&nbsp;checksum,
                <a href="../../../../../../it/cnr/isti/thematrix/common/Enums.CompressionType.html" title="enum in it.cnr.isti.thematrix.common">Enums.CompressionType</a>&nbsp;compression)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setSaveToResultsPath(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSaveToResultsPath</h4>
<pre>public&nbsp;void&nbsp;setSaveToResultsPath(boolean&nbsp;b)</pre>
<div class="block">Call this method before setup to enable/disable use of the Results path.
 Note that this can only be used on modules manually created after the
 eval, because the interpreter always calls setup().</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>b</code> - value stored in field <code>saveToResultsPath</code></dd></dl>
</li>
</ul>
<a name="setup()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setup</h4>
<pre>public&nbsp;void&nbsp;setup()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#setup()">MatrixModule</a></code></strong></div>
<div class="block">This method is invoked <strong> once </strong> by the interpreter, after the constructor, 
 during the analysis of the input script.
 
 The purpose of this method is to setup the internal state of the module, so that the following
 modules in the script can safely access this module's data
 
 In this method, the programmer <strong>must</strong> invoke 
 <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html#setSchema(it.cnr.isti.thematrix.scripting.sys.DatasetSchema)"><code>DatasetRecord.setSchema(DatasetSchema)</code></a> with a proper <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetSchema.html" title="class in it.cnr.isti.thematrix.scripting.sys"><code>DatasetSchema</code></a> instance
 and any other internal state variables must be initialized to sane defaults.
 
 If this module has inputs, it is also supposed to invoke <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#addConsumer(it.cnr.isti.thematrix.scripting.sys.MatrixModule)"><code>MatrixModule.addConsumer(MatrixModule)</code></a>
 for each input module instance.
 
 Subclasses may implement this method in such a way that it may be re-invoked by 
 <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#changeInput(it.cnr.isti.thematrix.scripting.sys.MatrixModule)"><code>MatrixModule.changeInput(MatrixModule)</code></a> or <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#substituteInput(it.cnr.isti.thematrix.scripting.sys.MatrixModule,%20it.cnr.isti.thematrix.scripting.sys.MatrixModule)"><code>MatrixModule.substituteInput(MatrixModule, MatrixModule)</code></a>
 to re-setup the internal state of the module.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#setup()">setup</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a></code></dd>
</dl>
</li>
</ul>
<a name="beforeFirstHasMore()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beforeFirstHasMore</h4>
<pre>private&nbsp;void&nbsp;beforeFirstHasMore()</pre>
</li>
</ul>
<a name="exec()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exec</h4>
<pre>public&nbsp;void&nbsp;exec()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#exec()">MatrixModule</a></code></strong></div>
<div class="block">this method has no longer a real purpose. It is invoked by the interpreter when <strong>all</strong> 
 of the input script has been processed, for all modules in the script, in sequence.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#exec()">exec</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a></code></dd>
</dl>
</li>
</ul>
<a name="attributes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>attributes</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/Symbol.html" title="class in it.cnr.isti.thematrix.scripting.sys">Symbol</a>&lt;?&gt;&gt;&nbsp;attributes()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html#attributes()">attributes</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/DatasetRecord.html" title="class in it.cnr.isti.thematrix.scripting.sys">DatasetRecord</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the list of symbols that belong to this record, in the order
 specified at the moment of its creation</dd></dl>
</li>
</ul>
<a name="get(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;<a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/Symbol.html" title="class in it.cnr.isti.thematrix.scripting.sys">Symbol</a>&lt;?&gt;&nbsp;get(java.lang.Object&nbsp;name)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#get(java.lang.Object)">MatrixModule</a></code></strong></div>
<div class="block">When this method is invoked <strong>before</strong> any invocation to <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#next()"><code>MatrixModule.next()</code></a>
 the behavior is <strong>undefined</strong>. Default implementations may either return
 symbols holding `null` values or a default value. For instance, if the dataset has a schema:
 
 <code>[{FOO: string}; {BAR: string}; {BAZ: int = 0}]</code>
 
 where `0` is the default value for column BAZ, then the expected result would be the dataset:
 
 <code> null, null, 0 </code>
 
 However, being this module-depenendant, it is not advisable for subclasses and clients
 of this method to rely on this information: this method should always be invoked when next()
 has been invoked at least once. Subclasses may choose to throw an <code>Error</code> or a 
 <code>RuntimeException</code> if this contract is not satisfied.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>get</code>&nbsp;in interface&nbsp;<code>java.util.Map&lt;java.lang.String,<a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/Symbol.html" title="class in it.cnr.isti.thematrix.scripting.sys">Symbol</a>&lt;?&gt;&gt;</code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#get(java.lang.Object)">get</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the corresponding <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/Symbol.html" title="class in it.cnr.isti.thematrix.scripting.sys"><code>Symbol</code></a>, 
         or a <a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MissingSymbolException.html" title="class in it.cnr.isti.thematrix.scripting.sys"><code>MissingSymbolException</code></a> if the given symbol is missing</dd></dl>
</li>
</ul>
<a name="reset()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reset</h4>
<pre>public&nbsp;void&nbsp;reset()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#reset()">MatrixModule</a></code></strong></div>
<div class="block">resets the internal state of the module: it restore the internal cursor to the first
 record of the dataset, and it restores any other variable to sane defaults.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#reset()">reset</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a></code></dd>
</dl>
</li>
</ul>
<a name="changeInput(it.cnr.isti.thematrix.scripting.sys.MatrixModule)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changeInput</h4>
<pre>public&nbsp;void&nbsp;changeInput(<a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a>&nbsp;m)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#changeInput(it.cnr.isti.thematrix.scripting.sys.MatrixModule)">MatrixModule</a></code></strong></div>
<div class="block">Special method used to hack the input of a module to a different module
 <b>with the same schema</b>.
 
 By default (if not overridden by a concrete module class) it will emit a
 line in the log. This method is needed for relinking those modules that
 keep a reference to their source modules after their setup() call
 (examples: Filter, Product), each time we need to modify the graph of
 modules right before execution of the script (postprocessing in
 TheMatrix.sys, SortModule and others).
 
 Method needed whenever we want to add a buffer module with its proxy
 modules. This always happens after the module chain has been already
 built by the interpreter.
 
 Method used to have a by-default error behaviour as 1) the input variable
 has not been standardized in this abstract class; 2) there can be
 specific dependencies with code in the setup, exec and reset methods.
 
 Currently, it just logs (i.e. all modules which need it MUST override it,
 or they will compute on void/incorrect data).
 
 FIXME rewrite following quick and dirty notes about the effect of
 changing inputs
 
 per il filter: change input analizza i due riferimenti ai termini da
 confrontare; <br>
 li cambia con il nuovo input. se la seconda colonna non viene trovata
 vuol dire che era una costante e viene ignorata. (questo perche' il
 filter puo' usare piu' colonne del suo unico input).
 
 per il product e in generale per tutti i moduli con due input distinti <br>
 c'e' il problema di capire quale stiamo andando a sostituire, la
 changeinput con un solo parametro non basta
 
 TODO In the future, we may refactor MatrixModule to contain the input
 reference, taking care of the common case.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#changeInput(it.cnr.isti.thematrix.scripting.sys.MatrixModule)">changeInput</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>m</code> - the new module to be set as input (passed by reference, does
            not need to belong to the module list).</dd></dl>
</li>
</ul>
<a name="hasMore()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasMore</h4>
<pre>public&nbsp;boolean&nbsp;hasMore()</pre>
<div class="block">I am not terribly fond of all this computation in a boolean method TODO
 check whether it's really the best way</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#hasMore()">hasMore</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>true until the dataset has reached its last record</dd></dl>
</li>
</ul>
<a name="hadMore()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hadMore</h4>
<pre>private&nbsp;boolean&nbsp;hadMore()</pre>
<div class="block">This method internally substitutes the hasMore() call, letting the call
 through only if we don't already have a value stored.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>cached value of hasMore(), if still valid.</dd></dl>
</li>
</ul>
<a name="next()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>next</h4>
<pre>public&nbsp;void&nbsp;next()</pre>
<div class="block">The next method is calling an extra hasMore each round (for safety) which
 will become a problem as OutputModules now can chain due to the
 BufferFileModule, so the amount of extra useless call can get quadratic
 in the lenght of the chain. We avoid this by recording the result of the
 last hasMore call and returning it until the next next().</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html#next()">next</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../it/cnr/isti/thematrix/scripting/sys/MatrixModule.html" title="class in it.cnr.isti.thematrix.scripting.sys">MatrixModule</a></code></dd>
</dl>
</li>
</ul>
<a name="writeEmptyFile()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeEmptyFile</h4>
<pre>private&nbsp;void&nbsp;writeEmptyFile()</pre>
<div class="block">This method will write an empty file in case the input is empty (we still
 need the header and the xml descriptor for future use)</div>
</li>
</ul>
<a name="getRowsTotal()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRowsTotal</h4>
<pre>public&nbsp;int&nbsp;getRowsTotal()</pre>
<div class="block">The total number of records written so far by this Output module</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The total number of records written so far by this Output module</dd></dl>
</li>
</ul>
<a name="isPostProcessed()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isPostProcessed</h4>
<pre>public&nbsp;boolean&nbsp;isPostProcessed()</pre>
<div class="block">Tells if the module has been added/edited during postprocessing in such a
 way that it needs to be ignored afterwards. Quick and dirty
 
 FIXME quick notes about postprocessing the module graph
 
 the method isPostProcessed() returns true if there was a previous call to
 set PortProcessed for this module; default behaviour is thus having it
 false.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if this module is marked as a result of postprocessing.</dd></dl>
</li>
</ul>
<a name="setPostProcessed()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setPostProcessed</h4>
<pre>public&nbsp;void&nbsp;setPostProcessed()</pre>
<div class="block">set the postProcessed flag, telling further postprocessing to ignore this
 output module</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MatrixFileOutput.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFileInput.html" title="class in it.cnr.isti.thematrix.scripting.modules"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../it/cnr/isti/thematrix/scripting/modules/MatrixFilter.html" title="class in it.cnr.isti.thematrix.scripting.modules"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?it/cnr/isti/thematrix/scripting/modules/MatrixFileOutput.html" target="_top">Frames</a></li>
<li><a href="MatrixFileOutput.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_java.util.AbstractMap">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
